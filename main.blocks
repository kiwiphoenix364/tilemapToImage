<xml xmlns="https://developers.google.com/blockly/xml"><block type="pxt-on-start" id="8.V%;M4/~^1hikxcGL1y" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="cM6`lkPRt6aeKqAx.H,$" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="namespace tilemapToImg {" line1="    //% block" line2="    //% block=&quot;generate image from  tilemap $inputTilemap to image $outputImage&quot;" line3="    export function generateImage(inputTilemap: any) {" line4="        let outputImage = image.create(inputTilemap.width * 16 + 15, inputTilemap.height * 16 + 15)" line5="        for (let x = 0; x &lt; inputTilemap.width; x++) {" line6="            for (let y = 0; y &lt; inputTilemap.height; y++) {" line7="                let img = inputTilemap.tileImageAtLocation(inputTilemap.getTileLocation(x, y))" line8="                helpers.imageBlit(outputImage, x * 16, x * 16, x * 16 + 15, x * 16 + 15, img, 0, 0, 16, 16, true, false)" line9="            }" line10="        }" line11="        return outputImage" line12="    }" line13="}" numlines="14"></mutation></block></statement></block></xml>